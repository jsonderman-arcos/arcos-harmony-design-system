
import { createTheme, ThemeProvider as MuiThemeProvider } from '@mui/material/styles';
import { PaletteMode } from '@mui/material';
import React, { createContext, useContext, useMemo, useState, useEffect } from 'react';

// Import type definitions (if they exist)
try {
  require('./theme.types');
} catch (e) {
  // Types file might not exist if there are no custom types
}

// Theme configurations for each mode
// Light theme configuration
const lightTheme = {
  palette: {
  "primary": {
    "main": "{Lighthouse.colors.neutrals.black.alpha-87}"
  },
  "secondary": {
    "main": "{Base.text.secondary}"
  },
  "warning": {
    "main": "{Lighthouse.colors.yellows.pale-yellow-darkly.500-alpha-16}"
  },
  "border": {
    "focus-ring": "{Base.text._states.focus-visible}",
    "default": "{Base.primary._states.outlinedBorder}"
  },
  "label": {
    "always-dark": "{Lighthouse.colors.neutrals.black.alpha-87}",
    "default": "{Base.text.primary}",
    "active": "{Base.primary.main}"
  },
  "surface-light": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "surface-dark": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-06}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "divider": {
    "default": "{Lighthouse.colors.neutrals.black.alpha-12}"
  },
  "elevation": {
    "outlined": "{Lighthouse.colors.neutrals.neutral.300}"
  },
  "native": {
    "scrollbar-bg": "{Lighthouse.colors.neutrals.neutral.200}"
  },
  "status-no-signal": {
    "default": "{Lighthouse.colors.brand.default.600}",
    "lightest": "{Lighthouse.colors.brand.default.50}",
    "darker": "{Lighthouse.colors.brand.default.800}",
    "darkest": "{Lighthouse.colors.brand.default.900}",
    "always-dark": "{Lighthouse.colors.brand.default.600}",
    "screen": "{Lighthouse.colors.brand.default.600-alpha-50}"
  },
  "states": {
    "hover": "{Lighthouse.colors.blues.vivid-blue.500-alpha-06}",
    "selected": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}",
    "focusvisible": "{Lighthouse.colors.blues.vivid-blue.500-alpha-30}",
    "outlinedborder": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}",
    "outlineborder": "{Lighthouse.colors.greens.soft-teal.800-alpha-50}",
    "enabled-fill": "{Base.status.status-idle._states.selected}",
    "enabled-stroke": "{Base.status.status-idle.darker}",
    "hover-fill": "{Base.status.status-idle._states.focusVisible}",
    "hover-stroke": "{Base.status.status-idle.darkest}",
    "active-fill": "{Base.status.status-idle.default}",
    "active-stroke": "{Base.status.status-idle.default}"
  },
  "status-arrived": {
    "default": "{Lighthouse.colors.yellows.yellow.300}",
    "lightest": "{Lighthouse.colors.yellows.yellow.50}",
    "light": "{Lighthouse.colors.yellows.yellow.100}",
    "vivid": "{Lighthouse.colors.yellows.yellow.500}",
    "dark": "{Lighthouse.colors.yellows.yellow.600}",
    "darker": "{Lighthouse.colors.yellows.yellow.800}",
    "darkest": "{Lighthouse.colors.yellows.yellow.900}",
    "screen": "{Lighthouse.colors.yellows.yellow.200-alpha-50}"
  },
  "status-checkedin": {
    "default": "{Lighthouse.colors.blues.slate-blue.500}",
    "lightest": "{Lighthouse.colors.blues.slate-blue.100}",
    "light": "{Lighthouse.colors.blues.slate-blue.300}",
    "dark": "{Lighthouse.colors.blues.slate-blue.600}",
    "darker": "{Lighthouse.colors.blues.slate-blue.800}",
    "darkest": "{Lighthouse.colors.blues.slate-blue.900}",
    "screen": "{Lighthouse.colors.blues.slate-blue.500-alpha-50}"
  },
  "status-idle": {
    "default": "{Lighthouse.colors.greens.soft-teal.400}",
    "lightest": "{Lighthouse.colors.greens.soft-teal.50}",
    "light": "{Lighthouse.colors.greens.soft-teal.200}",
    "dark": "{Lighthouse.colors.greens.soft-teal.600}",
    "darker": "{Lighthouse.colors.greens.soft-teal.800}",
    "darkest": "{Lighthouse.colors.greens.soft-teal.900}",
    "screen": "{Lighthouse.colors.greens.soft-teal.400-alpha-50}"
  },
  "status-inbound": {
    "default": "{Lighthouse.colors.blues.vivid-blue.200}",
    "lightest": "{Lighthouse.colors.blues.vivid-blue.50}",
    "light": "{Lighthouse.colors.blues.vivid-blue.100}",
    "dark": "{Lighthouse.colors.blues.vivid-blue.600}",
    "darker": "{Lighthouse.colors.blues.vivid-blue.800}",
    "darkest": "{Lighthouse.colors.blues.vivid-blue.900}",
    "screen": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-regroup": {
    "default": "{Lighthouse.colors.greens.forest-green.500}",
    "darker": "{Lighthouse.colors.greens.forest-green.700}",
    "darkest": "{Lighthouse.colors.greens.forest-green.800}",
    "lightest": "{Lighthouse.colors.greens.forest-green.300}",
    "screen": "{Lighthouse.colors.greens.forest-green.400-alpha-50}"
  },
  "status-mobilize": {
    "default": "{Base.status.status-inbound.default}",
    "lightest": "{Base.status.status-inbound.lightest}",
    "darker": "{Base.status.status-inbound.darker}",
    "darkest": "{Base.status.status-inbound.darkest}",
    "screen": "{Base.status.status-inbound.screen}"
  },
  "black-states": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "white-states": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "avatar": {
    "fill": "{Lighthouse.colors.neutrals.neutral.400}"
  },
  "switch": {
    "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.50}",
    "slidefill": "{Lighthouse.colors.neutrals.black.100}",
    "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "rating": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
    "activefill": "{Lighthouse.colors.yellows.yellow.400}"
  },
  "snackbar": {
    "fill": "{Lighthouse.colors.neutrals.neutral.900}"
  },
  "chip": {
    "defaultclosefill": "{Lighthouse.colors.neutrals.neutral.100}",
    "defaulthoverfill": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.400}",
    "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
  },
  "tooltip": {
    "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
  },
  "backdrop": {
    "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "appbar": {
    "defaultfill": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "breadcrumbs": {
    "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "stepper": {
    "connector": "{Lighthouse.colors.neutrals.neutral.400}"
  },
  "standard": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-42}",
    "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
  },
  "filled": {
    "enabledfill": "{Lighthouse.colors.neutrals.black.alpha-06}",
    "hoverfill": "{Lighthouse.colors.neutrals.black.alpha-08}"
  },
  "outlined": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
    "hoverborder": "{Lighthouse.colors.neutrals.black.100}",
    "background-fill": "{Base.background.elevations.highest}"
  },
  "section": {
    "border": "{Base.divider.default}"
  },
  "icon": {
    "icon-fill-primary": "{Base.primary.main}",
    "icon-fill-default": "{Base.text.default}",
    "icon-fill-active": "{Base.text.default}",
    "icon-fill-disabled": "{Base.text.disabled}"
  },
  "modal": {
    "background-fill": "{Base.background.elevations.level-4}"
  },
  "panel": {
    "border": "{Base.divider.default}"
  },
  "background-fill": {
    "base": "{Base.background.elevations.level-3}",
    "level-1": "{Base.background.elevations.level-4}",
    "level-2": "{Base.background.elevations.level-5}",
    "content-highest": "{Base.background.elevations.highest}",
    "default": "{Base.background.elevations.level-4}",
    "selected": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}",
    "highlighted": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}"
  },
  "sidebar": {
    "icon-fill-default": "{Lighthouse.colors.neutrals.black.alpha-56}",
    "label-fill-default": "{Component.navigation.sidebar.icon-fill-default}",
    "background-fill": "{Lighthouse.colors.blues.slate-blue.100}",
    "icon-fill-selected": "{Lighthouse.colors.neutrals.neutral.100}",
    "label-fill-selected": "{Lighthouse.colors.neutrals.neutral.100}",
    "background-fill-selected": "{Lighthouse.colors.blues.slate-blue.500-alpha-87}",
    "stroke-selected": "{Component.navigation.sidebar.icon-fill-selected}",
    "bar-border-stroke": "{Lighthouse.colors.neutrals.white.alpha-12}"
  },
  "topbar": {
    "text-fill-default": "{Lighthouse.colors.neutrals.white.100}",
    "background-fill": "{Base.background.brand-dark-tone}",
    "action-element-fill": "{Lighthouse.colors.neutrals.white.alpha-56}",
    "icon-fill-default": "{Lighthouse.colors.neutrals.white.100}",
    "form-outline-default": "{Lighthouse.colors.neutrals.white.alpha-23}"
  },
  "footer": {
    "background-fill": "{Component.navigation.topbar.background-fill}",
    "text-fill-default": "{Lighthouse.colors.neutrals.white.100}"
  },
  "list-item": {
    "convoy-label": "{Base.text.primary}"
  },
  "text-fill": {
    "main-text": "{Base.text.primary}",
    "support-text": "{Base.text.caption}",
    "timestamp": "{Base.text.disabled}"
  },
  "map-marker": {
    "tooltip-fill": "{Base.primary._states.hover}",
    "tooltip-text": "{Base.label.default}"
  },
  "destination": {
    "fill-default": "{Lighthouse.colors.yellows.yellow.500}",
    "stroke-default": "{Lighthouse.colors.neutrals.white.100}",
    "text-default": "{Base.label.always-dark}",
    "stroke-selected": "{Lighthouse.colors.yellows.yellow.500}",
    "fill-selected": "{Lighthouse.colors.neutrals.white.100}",
    "label-fill-selected": "{Lighthouse.colors.yellows.yellow-darkly.100}",
    "label-text-selected": "{Lighthouse.colors.neutrals.white.100}"
  },
  "inbound": {
    "fill": "{Base.status.status-inbound.default}",
    "icon": "{Base.status.status-inbound.darker}",
    "stroke": "{Lighthouse.colors.blues.vivid-blue.700-alpha-80}",
    "label-fill": "{Base.status.status-inbound.default}",
    "label-text": "{Component.map-marker.convoy.inbound.icon}",
    "label-selected-fill": "{Base.status.status-inbound.darkest}",
    "label-selected-text": "{Base.status.status-inbound.lightest}",
    "text-fill": "{Base.status.status-inbound.darker}",
    "text-fill-contrast": "{Base.status.status-inbound.darker}"
  },
  "arrived": {
    "fill": "{Base.status.status-arrived.default}",
    "icon": "{Base.status.status-arrived.darker}",
    "stroke": "{Lighthouse.colors.yellows.yellow.800-alpha-60}",
    "label-fill": "{Component.map-marker.convoy.arrived.fill}",
    "label-text": "{Component.map-marker.convoy.arrived.icon}",
    "label-selected-fill": "{Component.map-marker.convoy.arrived.icon}",
    "label-selecfed-text": "{Base.status.status-arrived.lightest}",
    "text-fill": "{Base.status.status-arrived.darker}",
    "text-fill-contrast": "{Base.status.status-arrived.darker}"
  },
  "idle": {
    "fill": "{Base.status.status-idle.default}",
    "icon": "{Base.status.status-idle.darker}",
    "stroke": "{Lighthouse.colors.greens.soft-teal.800-alpha-87}",
    "label-fill": "{Component.map-marker.convoy.idle.fill}",
    "label-text": "{Component.map-marker.convoy.idle.icon}",
    "label-selected-fill": "{Component.map-marker.convoy.idle.icon}",
    "label-selected-text": "{Base.status.status-idle.lightest}",
    "text-fill": "{Base.status.status-idle.darkest}",
    "text-fill-contrast": "{Base.status.status-idle.darkest}"
  },
  "no-signal": {
    "fill": "{Base.status.status-no-signal.default}",
    "icon": "{Base.status.status-no-signal.lightest}",
    "stroke": "{Lighthouse.colors.reds.punchy-red.900-alpha-87}",
    "label-fill": "{Component.map-marker.convoy.no-signal.fill}",
    "label-text": "{Component.map-marker.convoy.no-signal.icon}",
    "label-selected-fill": "{Base.status.status-no-signal.darkest}",
    "label-selected-text": "{Component.map-marker.convoy.no-signal.icon}",
    "text-fill-2": "{Base.status.status-no-signal.default}",
    "text-fill-contrast-2": "{Base.status.status-no-signal.lightest}"
  },
  "checked-in": {
    "fill": "{Base.status.status-checkedin.light}",
    "icon": "{Base.status.status-checkedin.darkest}",
    "stroke": "{Lighthouse.colors.blues.slate-blue.500-alpha-87}",
    "label-fill": "{Component.map-marker.convoy.checked-in.fill}",
    "label-text": "{Base.status.status-checkedin.darkest}",
    "label-selected-fill": "{Base.status.status-checkedin.darker}",
    "label-selected-text": "{Base.status.status-checkedin.lightest}"
  },
  "stack": {
    "fill-default": "{Lighthouse.colors.blues.vivid-blue.300}",
    "label-fill": "{Base.label.always-dark}",
    "stroke-default": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-chip": {
    "inbound-surface-fill": "{Base.status.status-inbound.dark}",
    "arriving-surface-fill": "{Base.status.status-arrived.default}",
    "idle-surface-fill": "{Base.status.status-idle.dark}",
    "nosignal-surface-fill": "{Base.status.status-no-signal.default}",
    "checkedin-surface-fill": "{Base.status.status-checkedin.lightest}",
    "status-label": "{Base.text.primary}",
    "status-label-reverse": "{Lighthouse.colors.neutrals.white.100}"
  }
},
  typography: {},
  spacing: 3px,
  breakpoints: {
    values: {
  "xs": 0
},
  },
  shadows: [
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none"
],
  components: {
  "MuiAvatar": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.400}"
      }
    }
  },
  "MuiSwitch": {
    "styleOverrides": {
      "root": {
        "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.50}",
        "slidefill": "{Lighthouse.colors.neutrals.black.100}",
        "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiRating": {
    "styleOverrides": {
      "root": {
        "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
        "activefill": "{Lighthouse.colors.yellows.yellow.400}"
      }
    }
  },
  "MuiSnackbar": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.900}"
      }
    }
  },
  "MuiChip": {
    "styleOverrides": {
      "root": {
        "defaultclosefill": "{Lighthouse.colors.neutrals.neutral.100}",
        "defaulthoverfill": "{Lighthouse.colors.neutrals.black.alpha-12}",
        "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.400}",
        "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
      }
    }
  },
  "MuiTooltip": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
      }
    }
  },
  "MuiBackdrop": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
      }
    }
  },
  "MuiAppbar": {
    "styleOverrides": {
      "root": {
        "defaultfill": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiBreadcrumbs": {
    "styleOverrides": {
      "root": {
        "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiStepper": {
    "styleOverrides": {
      "root": {
        "connector": "{Lighthouse.colors.neutrals.neutral.400}"
      }
    }
  },
  "MuiInput": {
    "styleOverrides": {
      "root": {
        "standard": {
          "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-42}",
          "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
        },
        "filled": {
          "enabledfill": "{Lighthouse.colors.neutrals.black.alpha-06}",
          "hoverfill": "{Lighthouse.colors.neutrals.black.alpha-08}"
        },
        "outlined": {
          "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
          "hoverborder": "{Lighthouse.colors.neutrals.black.100}",
          "background-fill": "{Base.background.elevations.highest}"
        }
      }
    }
  },
  "MuiAlert": {
    "styleOverrides": {
      "root": {
        "error": {
          "color": "{Lighthouse.colors.reds.punchy-red.800}",
          "background": "{Lighthouse.colors.reds.punchy-red.50}"
        },
        "warning": {
          "color": "{Base.feedback.warning.main}",
          "background": "{Lighthouse.colors.yellows.yellow.50}"
        },
        "info": {
          "color": "{Base.feedback.info.dark}",
          "background": "{Base.feedback.info.contrast-text}"
        },
        "success": {
          "color": "{Lighthouse.colors.greens.forest-green.900}",
          "background": "{Lighthouse.colors.greens.forest-green.50}"
        }
      }
    }
  }
},
};

// Dark theme configuration
const darkTheme = {
  palette: {
  "primary": {
    "main": "{Lighthouse.colors.neutrals.white.100}"
  },
  "secondary": {
    "main": "{Base.text.secondary}"
  },
  "warning": {
    "main": "{Lighthouse.colors.yellows.yellow-darkly.500-alpha-16}"
  },
  "border": {
    "focus-ring": "{Base.text._states.focus-visible}",
    "default": "{Base.primary._states.outlinedBorder}"
  },
  "label": {
    "always-dark": "{Lighthouse.colors.neutrals.black.alpha-87}",
    "default": "{Base.text.primary}",
    "active": "{Base.primary.light}"
  },
  "surface-light": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-38}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "surface-dark": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "divider": {
    "default": "{Lighthouse.colors.neutrals.white.alpha-12}"
  },
  "elevation": {
    "outlined": "{Base.divider.default}"
  },
  "native": {
    "scrollbar-bg": "{Lighthouse.colors.neutrals.neutral.700}"
  },
  "status-no-signal": {
    "default": "{Lighthouse.colors.brand.default.200}",
    "lightest": "{Lighthouse.colors.brand.default.50}",
    "darker": "{Lighthouse.colors.brand.default.800}",
    "darkest": "{Lighthouse.colors.brand.default.900}",
    "always-dark": "{Lighthouse.colors.brand.default.600}",
    "screen": "{Lighthouse.colors.brand.default.600-alpha-50}"
  },
  "states": {
    "hover": "{Lighthouse.colors.blues.vivid-blue-darkly.500-alpha-06}",
    "selected": "{Lighthouse.colors.blues.vivid-blue-darkly.500-alpha-16}",
    "focusvisible": "{Lighthouse.colors.blues.vivid-blue-darkly.500-alpha-30}",
    "outlinedborder": "{Lighthouse.colors.blues.vivid-blue-darkly.500-alpha-50}",
    "outlineborder": "{Lighthouse.colors.greens.soft-teal.500-alpha-50}",
    "enabled-fill": "{Lighthouse.colors.neutrals.transparent}",
    "enabled-stroke": "{Base.status.status-idle.default}",
    "hover-fill": "{Lighthouse.colors.neutrals.transparent}",
    "hover-stroke": "{Base.status.status-idle.darkest}",
    "active-fill": "{Base.status.status-idle.default}",
    "active-stroke": "{Base.status.status-idle.default}"
  },
  "status-arrived": {
    "default": "{Lighthouse.colors.yellows.yellow.300}",
    "lightest": "{Lighthouse.colors.yellows.yellow.50}",
    "light": "{Lighthouse.colors.yellows.yellow.100}",
    "vivid": "{Lighthouse.colors.yellows.yellow.500}",
    "dark": "{Lighthouse.colors.yellows.yellow.600}",
    "darker": "{Lighthouse.colors.yellows.yellow.800}",
    "darkest": "{Lighthouse.colors.yellows.yellow.900}",
    "screen": "{Lighthouse.colors.yellows.yellow.200-alpha-50}"
  },
  "status-checkedin": {
    "default": "{Lighthouse.colors.blues.slate-blue-darkly.500}",
    "lightest": "{Lighthouse.colors.blues.slate-blue.100}",
    "light": "{Lighthouse.colors.blues.slate-blue.300}",
    "dark": "{Lighthouse.colors.blues.slate-blue.600}",
    "darker": "{Lighthouse.colors.blues.slate-blue.800}",
    "darkest": "{Lighthouse.colors.blues.slate-blue.900}",
    "screen": "{Lighthouse.colors.blues.slate-blue.500-alpha-50}"
  },
  "status-idle": {
    "default": "{Lighthouse.colors.greens.soft-teal.400}",
    "lightest": "{Lighthouse.colors.greens.soft-teal.50}",
    "light": "{Lighthouse.colors.greens.soft-teal.200}",
    "dark": "{Lighthouse.colors.greens.soft-teal.600}",
    "darker": "{Lighthouse.colors.greens.soft-teal.800}",
    "darkest": "{Lighthouse.colors.greens.soft-teal.900}",
    "screen": "{Lighthouse.colors.greens.soft-teal.400-alpha-50}"
  },
  "status-inbound": {
    "default": "{Lighthouse.colors.blues.vivid-blue.200}",
    "lightest": "{Lighthouse.colors.blues.vivid-blue.50}",
    "light": "{Lighthouse.colors.blues.vivid-blue.100}",
    "dark": "{Lighthouse.colors.blues.vivid-blue.600}",
    "darker": "{Lighthouse.colors.blues.vivid-blue.800}",
    "darkest": "{Lighthouse.colors.blues.vivid-blue.900}",
    "screen": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-regroup": {
    "default": "{Lighthouse.colors.greens.forest-green-darkly.300}",
    "darker": "{Lighthouse.colors.greens.forest-green-darkly.400}",
    "darkest": "{Lighthouse.colors.greens.forest-green-darkly.600}",
    "lightest": "{Lighthouse.colors.greens.forest-green-darkly.700}",
    "screen": "{Lighthouse.colors.greens.forest-green.400-alpha-50}"
  },
  "status-mobilize": {
    "default": "{Base.status.status-inbound.default}",
    "lightest": "{Base.status.status-inbound.lightest}",
    "darker": "{Base.status.status-inbound.darker}",
    "darkest": "{Base.status.status-inbound.darkest}",
    "screen": "{Base.status.status-inbound.screen}"
  },
  "black-states": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "white-states": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "avatar": {
    "fill": "{Lighthouse.colors.neutrals.neutral.400}"
  },
  "switch": {
    "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.300}",
    "slidefill": "{Lighthouse.colors.neutrals.white.alpha-38}",
    "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.600}"
  },
  "rating": {
    "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-23}",
    "activefill": "{Lighthouse.colors.yellows.yellow.400}"
  },
  "snackbar": {
    "fill": "{Base.background.paper-elevation-6}"
  },
  "chip": {
    "defaultclosefill": "{Lighthouse.colors.neutrals.white.100}",
    "defaulthoverfill": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.700}",
    "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
  },
  "tooltip": {
    "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
  },
  "backdrop": {
    "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "appbar": {
    "defaultfill": "{Base.background.paper-elevation-4}"
  },
  "breadcrumbs": {
    "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "stepper": {
    "connector": "{Lighthouse.colors.neutrals.neutral.600}"
  },
  "standard": {
    "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-42}",
    "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
  },
  "filled": {
    "enabledfill": "{Lighthouse.colors.neutrals.white.alpha-08}",
    "hoverfill": "{Lighthouse.colors.neutrals.white.alpha-12}"
  },
  "outlined": {
    "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-23}",
    "hoverborder": "{Lighthouse.colors.neutrals.white.100}",
    "background-fill": "{Base.background.elevations.level-2}"
  },
  "section": {
    "border": "{Base.divider.default}"
  },
  "icon": {
    "icon-fill-primary": "{Base.primary.main}",
    "icon-fill-default": "{Base.text.default}",
    "icon-fill-active": "{Base.text.default}",
    "icon-fill-disabled": "{Base.text.disabled}"
  },
  "modal": {
    "background-fill": "{Base.background.elevations.level-1}"
  },
  "panel": {
    "border": "{Base.divider.default}"
  },
  "background-fill": {
    "base": "{Base.background.elevations.level-1}",
    "level-1": "{Base.background.elevations.level-2}",
    "level-2": "{Base.background.elevations.level-4}",
    "content-highest": "{Base.background.elevations.level-5}",
    "default": "{Base.background.elevations.level-2}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-16}",
    "highlighted": "{Lighthouse.colors.blues.vivid-blue-darkly.500-alpha-16}"
  },
  "sidebar": {
    "icon-fill-default": "{Lighthouse.colors.neutrals.white.alpha-56}",
    "label-fill-default": "{Component.navigation.sidebar.icon-fill-default}",
    "background-fill": "{Lighthouse.colors.neutrals.gray.100}",
    "icon-fill-selected": "{Lighthouse.colors.blues.slate-blue-darkly.500}",
    "label-fill-selected": "{Component.navigation.sidebar.icon-fill-selected}",
    "background-fill-selected": "{Lighthouse.colors.blues.slate-blue-darkly.500-alpha-16}",
    "stroke-selected": "{Component.navigation.sidebar.icon-fill-selected}",
    "bar-border-stroke": "{Lighthouse.colors.neutrals.white.alpha-12}"
  },
  "topbar": {
    "text-fill-default": "{Lighthouse.colors.neutrals.white.100}",
    "background-fill": "{Base.background.brand-dark-tone}",
    "action-element-fill": "{Lighthouse.colors.neutrals.white.alpha-56}",
    "icon-fill-default": "{Lighthouse.colors.neutrals.white.100}",
    "form-outline-default": "{Lighthouse.colors.neutrals.white.alpha-23}"
  },
  "footer": {
    "background-fill": "{Component.navigation.topbar.background-fill}",
    "text-fill-default": "{Lighthouse.colors.neutrals.white.100}"
  },
  "list-item": {
    "convoy-label": "{Base.text.primary}"
  },
  "text-fill": {
    "main-text": "{Base.text.primary}",
    "support-text": "{Base.text.caption}",
    "timestamp": "{Base.text.disabled}"
  },
  "map-marker": {
    "tooltip-fill": "{Base.primary.contrast-text}",
    "tooltip-text": "{Base.label.secondary}"
  },
  "destination": {
    "fill-default": "{Lighthouse.colors.yellows.yellow.500}",
    "stroke-default": "{Lighthouse.colors.neutrals.white.100}",
    "text-default": "{Base.label.always-dark}",
    "stroke-selected": "{Lighthouse.colors.yellows.yellow.500}",
    "fill-selected": "{Lighthouse.colors.neutrals.white.100}",
    "label-fill-selected": "{Lighthouse.colors.yellows.yellow-darkly.100}",
    "label-text-selected": "{Lighthouse.colors.neutrals.white.100}"
  },
  "inbound": {
    "fill": "{Base.status.status-inbound.default}",
    "icon": "{Base.status.status-inbound.darker}",
    "stroke": "{Base.status.status-inbound.screen}",
    "label-fill": "{Base.status.status-inbound.darkest}",
    "label-text": "{Base.status.status-inbound.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.inbound.fill}",
    "label-selected-text": "{Component.map-marker.convoy.inbound.icon}",
    "text-fill": "{Base.status.status-inbound.default}",
    "text-fill-contrast": "{Base.status.status-inbound.darkest}"
  },
  "arrived": {
    "fill": "{Base.status.status-arrived.default}",
    "icon": "{Base.status.status-arrived.darker}",
    "stroke": "{Base.status.status-arrived.screen}",
    "label-fill": "{Base.status.status-arrived.darkest}",
    "label-text": "{Base.status.status-arrived.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.arrived.fill}",
    "label-selecfed-text": "{Component.map-marker.convoy.arrived.label-fill}",
    "text-fill": "{Base.status.status-arrived.default}",
    "text-fill-contrast": "{Base.status.status-arrived.darkest}"
  },
  "idle": {
    "fill": "{Base.status.status-idle.default}",
    "icon": "{Base.status.status-idle.darker}",
    "stroke": "{Base.status.status-idle.screen}",
    "label-fill": "{Base.status.status-idle.darkest}",
    "label-text": "{Base.status.status-idle.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.idle.fill}",
    "label-selected-text": "{Base.status.status-idle.darkest}",
    "text-fill": "{Base.status.status-idle.default}",
    "text-fill-contrast": "{Base.status.status-idle.darkest}"
  },
  "no-signal": {
    "fill": "{Base.status.status-no-signal.always-dark}",
    "icon": "{Base.status.status-no-signal.lightest}",
    "stroke": "{Base.status.status-no-signal.screen}",
    "label-fill": "{Base.status.status-no-signal.darkest}",
    "label-text": "{Base.status.status-no-signal.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.no-signal.fill}",
    "label-selected-text": "{Base.status.status-no-signal.lightest}",
    "text-fill-2": "{Base.status.status-no-signal.default}",
    "text-fill-contrast-2": "{Base.status.status-no-signal.darkest}"
  },
  "checked-in": {
    "fill": "{Base.status.status-checkedin.light}",
    "icon": "{Base.status.status-checkedin.darkest}",
    "stroke": "{Base.status.status-checkedin.screen}",
    "label-fill": "{Component.map-marker.convoy.checked-in.icon}",
    "label-text": "{Base.status.status-checkedin.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.checked-in.fill}",
    "label-selected-text": "{Base.status.status-checkedin.darkest}"
  },
  "stack": {
    "fill-default": "{Lighthouse.colors.blues.vivid-blue.300}",
    "label-fill": "{Base.label.always-dark}",
    "stroke-default": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-chip": {
    "inbound-surface-fill": "{Base.status.status-inbound.default}",
    "arriving-surface-fill": "{Base.status.status-arrived.default}",
    "idle-surface-fill": "{Base.status.status-idle.default}",
    "nosignal-surface-fill": "{Base.status.status-no-signal.default}",
    "checkedin-surface-fill": "{Base.status.status-checkedin.default}",
    "status-label": "{Base.text.primary}",
    "status-label-reverse": "{Lighthouse.colors.neutrals.black.alpha-87}"
  },
  "mode": "dark"
},
  typography: {},
  spacing: 3px,
  breakpoints: {
    values: {
  "xs": 0
},
  },
  shadows: [
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none"
],
  components: {
  "MuiAvatar": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.400}"
      }
    }
  },
  "MuiSwitch": {
    "styleOverrides": {
      "root": {
        "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.300}",
        "slidefill": "{Lighthouse.colors.neutrals.white.alpha-38}",
        "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.600}"
      }
    }
  },
  "MuiRating": {
    "styleOverrides": {
      "root": {
        "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-23}",
        "activefill": "{Lighthouse.colors.yellows.yellow.400}"
      }
    }
  },
  "MuiSnackbar": {
    "styleOverrides": {
      "root": {
        "fill": "{Base.background.paper-elevation-6}"
      }
    }
  },
  "MuiChip": {
    "styleOverrides": {
      "root": {
        "defaultclosefill": "{Lighthouse.colors.neutrals.white.100}",
        "defaulthoverfill": "{Lighthouse.colors.neutrals.white.alpha-12}",
        "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.700}",
        "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
      }
    }
  },
  "MuiTooltip": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
      }
    }
  },
  "MuiBackdrop": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
      }
    }
  },
  "MuiAppbar": {
    "styleOverrides": {
      "root": {
        "defaultfill": "{Base.background.paper-elevation-4}"
      }
    }
  },
  "MuiBreadcrumbs": {
    "styleOverrides": {
      "root": {
        "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiStepper": {
    "styleOverrides": {
      "root": {
        "connector": "{Lighthouse.colors.neutrals.neutral.600}"
      }
    }
  },
  "MuiInput": {
    "styleOverrides": {
      "root": {
        "standard": {
          "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-42}",
          "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
        },
        "filled": {
          "enabledfill": "{Lighthouse.colors.neutrals.white.alpha-08}",
          "hoverfill": "{Lighthouse.colors.neutrals.white.alpha-12}"
        },
        "outlined": {
          "enabledborder": "{Lighthouse.colors.neutrals.white.alpha-23}",
          "hoverborder": "{Lighthouse.colors.neutrals.white.100}",
          "background-fill": "{Base.background.elevations.level-2}"
        }
      }
    }
  },
  "MuiAlert": {
    "styleOverrides": {
      "root": {
        "error": {
          "color": "{Lighthouse.colors.reds.punchy-red-darkly.800}",
          "background": "{Lighthouse.colors.reds.punchy-red-darkly.50}"
        },
        "warning": {
          "color": "{Base.feedback.warning.dark}",
          "background": "{Lighthouse.colors.yellows.yellow-darkly.50}"
        },
        "info": {
          "color": "{Base.feedback.info.dark}",
          "background": "{Base.feedback.info.contrast-text}"
        },
        "success": {
          "color": "{Lighthouse.colors.greens.forest-green-darkly.800}",
          "background": "{Lighthouse.colors.greens.forest-green-darkly.50}"
        }
      }
    }
  }
},
};

// Mobile theme configuration
const mobileTheme = {
  palette: {
  "primary": {
    "main": "{Lighthouse.colors.neutrals.black.alpha-87}"
  },
  "secondary": {
    "main": "{Base.text.secondary}"
  },
  "warning": {
    "main": "{Lighthouse.colors.yellows.yellow-darkly.500-alpha-16}"
  },
  "border": {
    "focus-ring": "{Base.text._states.focus-visible}",
    "default": "{Base.primary._states.outlinedBorder}"
  },
  "label": {
    "always-dark": "{Lighthouse.colors.neutrals.black.alpha-87}",
    "default": "{Base.text.primary}",
    "active": "{Base.primary.main}"
  },
  "surface-light": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "surface-dark": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-06}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focus-visible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlined-border": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "divider": {
    "default": "{Lighthouse.colors.neutrals.black.alpha-12}"
  },
  "elevation": {
    "outlined": "{Lighthouse.colors.neutrals.neutral.300}"
  },
  "native": {
    "scrollbar-bg": "{Lighthouse.colors.neutrals.neutral.200}"
  },
  "status-no-signal": {
    "default": "{Lighthouse.colors.brand.default.600}",
    "lightest": "{Lighthouse.colors.brand.default.50}",
    "darker": "{Lighthouse.colors.brand.default.800}",
    "darkest": "{Lighthouse.colors.brand.default.900}",
    "always-dark": "{Lighthouse.colors.brand.default.600}",
    "screen": "{Lighthouse.colors.brand.default.600-alpha-50}"
  },
  "states": {
    "hover": "{Lighthouse.colors.blues.vivid-blue.500-alpha-06}",
    "selected": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}",
    "focusvisible": "{Lighthouse.colors.blues.vivid-blue.500-alpha-30}",
    "outlinedborder": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}",
    "outlineborder": "{Lighthouse.colors.greens.soft-teal.500-alpha-50}",
    "enabled-fill": "#ffffff",
    "enabled-stroke": "#ffffff",
    "hover-fill": "#ffffff",
    "hover-stroke": "#ffffff",
    "active-fill": "#ffffff",
    "active-stroke": "#ffffff"
  },
  "status-arrived": {
    "default": "{Lighthouse.colors.yellows.yellow.300}",
    "lightest": "{Lighthouse.colors.yellows.yellow.50}",
    "light": "{Lighthouse.colors.yellows.yellow.100}",
    "vivid": "{Lighthouse.colors.yellows.yellow.500}",
    "dark": "{Lighthouse.colors.yellows.yellow.600}",
    "darker": "{Lighthouse.colors.yellows.yellow.800}",
    "darkest": "{Lighthouse.colors.yellows.yellow.900}",
    "screen": "{Lighthouse.colors.yellows.yellow.200-alpha-50}"
  },
  "status-checkedin": {
    "default": "{Lighthouse.colors.blues.slate-blue.500}",
    "lightest": "{Lighthouse.colors.blues.slate-blue.400}",
    "light": "{Lighthouse.colors.blues.slate-blue.400}",
    "dark": "{Lighthouse.colors.blues.slate-blue.900}",
    "darker": "{Lighthouse.colors.blues.slate-blue.600}",
    "darkest": "{Lighthouse.colors.blues.slate-blue.900}",
    "screen": "{Lighthouse.colors.blues.slate-blue.500-alpha-50}"
  },
  "status-idle": {
    "default": "{Lighthouse.colors.greens.soft-teal.400}",
    "lightest": "{Lighthouse.colors.greens.soft-teal.50}",
    "light": "{Lighthouse.colors.greens.soft-teal.200}",
    "dark": "{Lighthouse.colors.greens.soft-teal.600}",
    "darker": "{Lighthouse.colors.greens.soft-teal.800}",
    "darkest": "{Lighthouse.colors.greens.soft-teal.900}",
    "screen": "{Lighthouse.colors.greens.soft-teal.400-alpha-50}"
  },
  "status-inbound": {
    "default": "{Lighthouse.colors.blues.vivid-blue.200}",
    "lightest": "{Lighthouse.colors.blues.vivid-blue.50}",
    "light": "{Lighthouse.colors.blues.vivid-blue.100}",
    "dark": "{Lighthouse.colors.blues.vivid-blue.600}",
    "darker": "{Lighthouse.colors.blues.vivid-blue.800}",
    "darkest": "{Lighthouse.colors.blues.vivid-blue.900}",
    "screen": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-regroup": {
    "default": "{Lighthouse.colors.greens.forest-green.500}",
    "darker": "{Lighthouse.colors.greens.forest-green.700}",
    "darkest": "{Lighthouse.colors.greens.forest-green.800}",
    "lightest": "{Lighthouse.colors.greens.forest-green.300}",
    "screen": "{Lighthouse.colors.greens.forest-green.400-alpha-50}"
  },
  "status-mobilize": {
    "default": "{Base.status.status-inbound.default}",
    "lightest": "{Base.status.status-inbound.lightest}",
    "darker": "{Base.status.status-inbound.darker}",
    "darkest": "{Base.status.status-inbound.darkest}",
    "screen": "{Base.status.status-inbound.screen}"
  },
  "black-states": {
    "main": "{Lighthouse.colors.neutrals.black.100}",
    "hover": "{Lighthouse.colors.neutrals.black.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.black.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.black.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "white-states": {
    "main": "{Lighthouse.colors.neutrals.white.100}",
    "hover": "{Lighthouse.colors.neutrals.white.alpha-04}",
    "selected": "{Lighthouse.colors.neutrals.white.alpha-08}",
    "focus": "{Lighthouse.colors.neutrals.white.alpha-12}",
    "focusvisible": "{Lighthouse.colors.neutrals.white.alpha-30}",
    "outlinedborder": "{Lighthouse.colors.neutrals.white.alpha-50}"
  },
  "avatar": {
    "fill": "{Lighthouse.colors.neutrals.neutral.400}"
  },
  "switch": {
    "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.50}",
    "slidefill": "{Lighthouse.colors.neutrals.black.100}",
    "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "rating": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
    "activefill": "{Lighthouse.colors.yellows.yellow.400}"
  },
  "snackbar": {
    "fill": "{Lighthouse.colors.neutrals.neutral.900}"
  },
  "chip": {
    "defaultclosefill": "{Lighthouse.colors.neutrals.neutral.100}",
    "defaulthoverfill": "{Lighthouse.colors.neutrals.black.alpha-12}",
    "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.400}",
    "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
  },
  "tooltip": {
    "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
  },
  "backdrop": {
    "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
  },
  "appbar": {
    "defaultfill": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "breadcrumbs": {
    "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
  },
  "stepper": {
    "connector": "{Lighthouse.colors.neutrals.neutral.400}"
  },
  "standard": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-42}",
    "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
  },
  "filled": {
    "enabledfill": "{Lighthouse.colors.neutrals.black.alpha-06}",
    "hoverfill": "{Lighthouse.colors.neutrals.black.alpha-08}"
  },
  "outlined": {
    "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
    "hoverborder": "{Lighthouse.colors.neutrals.black.100}",
    "background-fill": "{Base.background.elevations.highest}"
  },
  "section": {
    "border": "{Base.divider.default}"
  },
  "icon": {
    "icon-fill-primary": "{Base.primary.main}",
    "icon-fill-default": "{Base.text.default}",
    "icon-fill-active": "{Base.text.default}",
    "icon-fill-disabled": "{Base.text.disabled}"
  },
  "modal": {
    "background-fill": "{Base.background.elevations.level-4}"
  },
  "panel": {
    "border": "{Base.divider.default}"
  },
  "background-fill": {
    "base": "{Base.background.elevations.highest}",
    "level-1": "{Base.background.elevations.highest}",
    "level-2": "{Base.background.elevations.highest}",
    "content-highest": "{Base.background.elevations.highest}",
    "default": "{Base.background.elevations.highest}",
    "selected": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}",
    "highlighted": "{Lighthouse.colors.blues.vivid-blue.500-alpha-16}"
  },
  "sidebar": {
    "icon-fill-default": "#ffffff",
    "label-fill-default": "#ffffff",
    "background-fill": "#ffffff",
    "icon-fill-selected": "#ffffff",
    "label-fill-selected": "#ffffff",
    "background-fill-selected": "#ffffff",
    "stroke-selected": "#ffffff",
    "bar-border-stroke": "#ffffff"
  },
  "topbar": {
    "text-fill-default": "{Base.text.primary}",
    "background-fill": "{Lighthouse.colors.neutrals.white.100}",
    "action-element-fill": "{Base.action.active}",
    "icon-fill-default": "{Base.action.active}",
    "form-outline-default": "{Base._components.input.standard.enabledBorder}"
  },
  "footer": {
    "background-fill": "#ffffff",
    "text-fill-default": "#ffffff"
  },
  "list-item": {
    "convoy-label": "{Base.text.primary}"
  },
  "text-fill": {
    "main-text": "{Base.text.primary}",
    "support-text": "{Base.text.caption}",
    "timestamp": "{Base.text.disabled}"
  },
  "map-marker": {
    "tooltip-fill": "{Base.primary.contrast-text}",
    "tooltip-text": "{Base.label.secondary}"
  },
  "destination": {
    "fill-default": "{Lighthouse.colors.yellows.yellow.500}",
    "stroke-default": "{Lighthouse.colors.neutrals.white.100}",
    "text-default": "{Base.label.always-dark}",
    "stroke-selected": "{Lighthouse.colors.yellows.yellow.500}",
    "fill-selected": "{Lighthouse.colors.neutrals.white.100}",
    "label-fill-selected": "{Lighthouse.colors.yellows.yellow-darkly.100}",
    "label-text-selected": "{Lighthouse.colors.neutrals.white.100}"
  },
  "inbound": {
    "fill": "{Base.status.status-inbound.default}",
    "icon": "{Base.status.status-inbound.darker}",
    "stroke": "{Base.status.status-inbound.screen}",
    "label-fill": "{Base.status.status-inbound.darkest}",
    "label-text": "{Base.status.status-inbound.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.inbound.fill}",
    "label-selected-text": "{Base.status.status-inbound.darker}",
    "text-fill": "#ffffff",
    "text-fill-contrast": "#ffffff"
  },
  "arrived": {
    "fill": "{Base.status.status-arrived.default}",
    "icon": "{Base.status.status-arrived.darker}",
    "stroke": "{Base.status.status-arrived.screen}",
    "label-fill": "{Base.status.status-arrived.darkest}",
    "label-text": "{Base.status.status-arrived.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.arrived.fill}",
    "label-selecfed-text": "{Component.map-marker.convoy.arrived.label-fill}",
    "text-fill": "#ffffff",
    "text-fill-contrast": "#ffffff"
  },
  "idle": {
    "fill": "{Base.status.status-idle.default}",
    "icon": "{Base.status.status-idle.darker}",
    "stroke": "{Base.status.status-idle.screen}",
    "label-fill": "{Base.status.status-idle.darkest}",
    "label-text": "{Base.status.status-idle.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.idle.fill}",
    "label-selected-text": "{Base.status.status-idle.darkest}",
    "text-fill": "#ffffff",
    "text-fill-contrast": "#ffffff"
  },
  "no-signal": {
    "fill": "{Base.status.status-no-signal.always-dark}",
    "icon": "{Base.status.status-no-signal.lightest}",
    "stroke": "{Base.status.status-no-signal.screen}",
    "label-fill": "{Base.status.status-no-signal.darkest}",
    "label-text": "{Base.status.status-no-signal.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.no-signal.fill}",
    "label-selected-text": "{Base.status.status-no-signal.lightest}",
    "text-fill-2": "#ffffff",
    "text-fill-contrast-2": "#ffffff"
  },
  "checked-in": {
    "fill": "{Base.status.status-inbound.default}",
    "icon": "{Base.status.status-checkedin.darkest}",
    "stroke": "{Base.status.status-inbound.screen}",
    "label-fill": "{Base.status.status-inbound.darkest}",
    "label-text": "{Base.status.status-inbound.lightest}",
    "label-selected-fill": "{Component.map-marker.convoy.inbound.fill}",
    "label-selected-text": "{Base.status.status-inbound.darker}"
  },
  "stack": {
    "fill-default": "{Lighthouse.colors.blues.vivid-blue.300}",
    "label-fill": "{Base.label.always-dark}",
    "stroke-default": "{Lighthouse.colors.blues.vivid-blue.500-alpha-50}"
  },
  "status-chip": {
    "inbound-surface-fill": "{Base.status.status-inbound.default}",
    "arriving-surface-fill": "{Base.status.status-arrived.default}",
    "idle-surface-fill": "{Base.status.status-idle.default}",
    "nosignal-surface-fill": "{Base.status.status-no-signal.default}",
    "checkedin-surface-fill": "{Base.status.status-checkedin.lightest}",
    "status-label": "{Base.text.primary}",
    "status-label-reverse": "{Lighthouse.colors.neutrals.white.100}"
  }
},
  typography: {},
  spacing: 3px,
  breakpoints: {
    values: {
  "xs": 0
},
  },
  shadows: [
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none"
],
  components: {
  "MuiAvatar": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.400}"
      }
    }
  },
  "MuiSwitch": {
    "styleOverrides": {
      "root": {
        "knobfillenabled": "{Lighthouse.colors.neutrals.neutral.50}",
        "slidefill": "{Lighthouse.colors.neutrals.black.100}",
        "knobfilldisabled": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiRating": {
    "styleOverrides": {
      "root": {
        "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
        "activefill": "{Lighthouse.colors.yellows.yellow.400}"
      }
    }
  },
  "MuiSnackbar": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.900}"
      }
    }
  },
  "MuiChip": {
    "styleOverrides": {
      "root": {
        "defaultclosefill": "{Lighthouse.colors.neutrals.neutral.100}",
        "defaulthoverfill": "{Lighthouse.colors.neutrals.black.alpha-12}",
        "defaultenabledborder": "{Lighthouse.colors.neutrals.neutral.400}",
        "defaultfocusfill": "{Lighthouse.colors.neutrals.white.alpha-20}"
      }
    }
  },
  "MuiTooltip": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.neutral.700-alpha-90}"
      }
    }
  },
  "MuiBackdrop": {
    "styleOverrides": {
      "root": {
        "fill": "{Lighthouse.colors.neutrals.black.alpha-50}"
      }
    }
  },
  "MuiAppbar": {
    "styleOverrides": {
      "root": {
        "defaultfill": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiBreadcrumbs": {
    "styleOverrides": {
      "root": {
        "collapsefill": "{Lighthouse.colors.neutrals.neutral.100}"
      }
    }
  },
  "MuiStepper": {
    "styleOverrides": {
      "root": {
        "connector": "{Lighthouse.colors.neutrals.neutral.400}"
      }
    }
  },
  "MuiInput": {
    "styleOverrides": {
      "root": {
        "standard": {
          "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-42}",
          "hoverborder": "{Lighthouse.colors.neutrals.black.100}"
        },
        "filled": {
          "enabledfill": "{Lighthouse.colors.neutrals.black.alpha-06}",
          "hoverfill": "{Lighthouse.colors.neutrals.black.alpha-08}"
        },
        "outlined": {
          "enabledborder": "{Lighthouse.colors.neutrals.black.alpha-23}",
          "hoverborder": "{Lighthouse.colors.neutrals.black.100}",
          "background-fill": "{Base.background.elevations.highest}"
        }
      }
    }
  },
  "MuiAlert": {
    "styleOverrides": {
      "root": {
        "error": {
          "color": "{Lighthouse.colors.reds.punchy-red.800}",
          "background": "{Lighthouse.colors.reds.punchy-red.50}"
        },
        "warning": {
          "color": "{Base.feedback.warning.main}",
          "background": "{Lighthouse.colors.yellows.yellow.50}"
        },
        "info": {
          "color": "{Base.feedback.info.dark}",
          "background": "{Base.feedback.info.contrast-text}"
        },
        "success": {
          "color": "{Lighthouse.colors.greens.forest-green.900}",
          "background": "{Lighthouse.colors.greens.forest-green.50}"
        }
      }
    }
  }
},
};

// Large Screen theme configuration
const large screenTheme = {
  palette: {},
  typography: {},
  spacing: 8,
  breakpoints: {
    values: {
  "xs": 0
},
  },
  shadows: [
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none",
  "none"
],
  components: {},
};

// All theme configurations object (for dynamic access)
const themeConfigs = {
  light: lightTheme,
  dark: darkTheme,
  mobile: mobileTheme,
  large screen: large screenTheme
};

// Define available theme mode types
type ColorMode = 'light' | 'dark' | 'mobile' | 'large screen';

// Type for the theme mode context
type ColorModeContextType = {
  mode: ColorMode;
  setMode: (mode: ColorMode) => void;
  toggleColorMode: () => void;
  availableModes: ColorMode[];
};

// Default to light mode if available, otherwise the first available mode
const defaultColorMode: ColorMode = 'light';

// Create context for theme mode switching
const ColorModeContext = createContext<ColorModeContextType>({
  mode: defaultColorMode,
  setMode: () => {},
  toggleColorMode: () => {},
  availableModes: ['light', 'dark', 'mobile', 'large screen'],
});

// Hook to use the color mode context
export const useColorMode = () => useContext(ColorModeContext);

// Theme provider component
interface ThemeProviderProps {
  children: React.ReactNode;
  defaultMode?: ColorMode;
}

export const ThemeProvider: React.FC<ThemeProviderProps> = ({ 
  children, 
  defaultMode = defaultColorMode
}) => {
  const [mode, setMode] = useState<ColorMode>(defaultMode);
  const availableModes: ColorMode[] = ['light', 'dark', 'mobile', 'large screen'];

  // Try to get saved mode from local storage on mount
  useEffect(() => {
    const savedMode = localStorage.getItem('themeMode');
    if (savedMode && availableModes.includes(savedMode as ColorMode)) {
      setMode(savedMode as ColorMode);
    }
  }, []);

  // Save mode to local storage when it changes
  useEffect(() => {
    localStorage.setItem('themeMode', mode);
  }, [mode]);

  // Create the context value
  const colorModeValue = useMemo(
    () => ({
      mode,
      setMode: (newMode: ColorMode) => setMode(newMode),
      toggleColorMode: () => {
        // Toggle between light and dark if both exist, otherwise cycle through available modes
        if (availableModes.includes('light') && availableModes.includes('dark')) {
          setMode((prevMode) => (prevMode === 'light' ? 'dark' : 'light'));
        } else {
          const currentIndex = availableModes.indexOf(mode);
          const nextIndex = (currentIndex + 1) % availableModes.length;
          setMode(availableModes[nextIndex]);
        }
      },
      availableModes,
    }),
    [mode]
  );

  // Create the MUI theme based on the current mode
  const theme = useMemo(
    () => createTheme(themeConfigs[mode]),
    [mode]
  );

  return (
    <ColorModeContext.Provider value={colorModeValue}>
      <MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>
    </ColorModeContext.Provider>
  );
};

// Export pre-created themes for direct use
export const lightMuiTheme = createTheme(lightTheme);
export const darkMuiTheme = createTheme(darkTheme);
export const mobileMuiTheme = createTheme(mobileTheme);
export const large screenMuiTheme = createTheme(large screenTheme);

// Helper function to create a custom theme based on a mode
export function createCustomTheme(mode: ColorMode, customOptions = {}) {
  const baseTheme = themeConfigs[mode];
  
  return createTheme({
    ...baseTheme,
    ...customOptions,
    palette: {
      ...baseTheme.palette,
      ...(customOptions.palette || {}),
    },
  });
}

// Export the default theme
export default lightMuiTheme;
